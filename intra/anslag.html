<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Radio HÃ´la â€“ IntranÃ¤t</title>
  <link rel="stylesheet" href="../css/style2.css">
  <script src="../js/radio-schema.js"></script>
</head>
<body>
  <script>
    (function(){
      function getCookie(name){
        const m = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
        return m ? decodeURIComponent(m[2]) : null;
      }
      // cookie name must match whatever you set on successful login (e.g. 'auth')
      const auth = getCookie('auth');
      if (!auth) {
        // not logged in -> redirect to contact/login page
        location.replace('../kontakt.html');
      }
      if (auth && auth.length < 8) location.replace('../kontakt.html');
    })();
  </script>

  <div id="wrapper">
    <div id="header">
      <a href="/" class="logo-a"><img src="/images/radiohola2.png" alt="Radio HÃ´las logotype" srcset="../images/radiohola_intra.svg" class="logo"/></a>
      <h1>Anslagstavlan</h1>
    </div>

    <div id="nav">
      <script>
        fetch('nav.html')
          .then(response => response.text())
          .then(html => document.getElementById('nav').innerHTML = html);
      </script>
    </div>
     <div id="content-fp">
        <h2>Anslagstavlan!</h2>
        <!-- === ANSLAGSTAVLA START === -->
<section class="anslagstavla-container">
  <h2>ðŸ§· Anslagstavlan</h2>
  <div id="anslagstavla" class="anslagstavla"></div>

  <form id="nytt-meddelande-form" class="meddelande-form">
    <h3>LÃ¤mna ett meddelande</h3>
    <input type="text" id="rubrik" placeholder="Rubrik" required />
    <textarea id="innehall" placeholder="Ditt meddelande..." required></textarea>
    <input type="text" id="avsandare" placeholder="AvsÃ¤ndare" required />
    <button type="submit">FÃ¤st pÃ¥ tavlan</button>
  </form>
</section>

<style>
  /* === STYLING FÃ–R ANSLAGSTAVLA === */
  .anslagstavla-container {
    max-width: 800px;
    margin: 40px auto;
    padding: 20px;
    background: #f7f2e8 url("https://i.imgur.com/ruTtz5B.png") repeat; /* ljus kork-textur */
    border: 4px solid #b58b4b;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    font-family: "Trebuchet MS", sans-serif;
    color: #333;
  }

  .anslagstavla-container h2 {
    text-align: center;
    margin-bottom: 15px;
  }

  .anslagstavla {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
  }

  .meddelande {
    background: #fff8d6;
    border: 2px solid #e5cf80;
    border-radius: 6px;
    box-shadow: 3px 3px 5px rgba(0,0,0,0.3);
    padding: 10px;
    transform: rotate(var(--rotation));
    position: relative;
    transition: transform 0.2s ease;
  }

  .meddelande::before {
    content: "ðŸ“Œ";
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%) rotate(-10deg);
    font-size: 20px;
  }

  .meddelande:hover {
    transform: scale(1.05) rotate(0deg);
    z-index: 5;
  }

  .meddelande h4 {
    margin: 0 0 5px;
    color: #4a3c10;
  }

  .meddelande p {
    font-size: 14px;
    margin: 0 0 5px;
  }

  .avsandare {
    font-size: 12px;
    text-align: right;
    color: #555;
    font-style: italic;
  }

  /* === FORMULÃ„R === */
  .meddelande-form {
    background: rgba(255,255,255,0.8);
    border: 1px solid #ccc;
    padding: 15px;
    border-radius: 6px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
  }

  .meddelande-form h3 {
    margin-top: 0;
  }

  .meddelande-form input, .meddelande-form textarea {
    width: 100%;
    margin-bottom: 10px;
    padding: 8px;
    font-family: inherit;
    border: 1px solid #bbb;
    border-radius: 4px;
  }

  .meddelande-form button {
    background: #b58b4b;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
  }

  .meddelande-form button:hover {
    background: #d4aa70;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tavla = document.getElementById("anslagstavla");
    const form = document.getElementById("nytt-meddelande-form");

    // FÃ¶rifyllda meddelanden
    const meddelanden = [
      {
        rubrik: "Borttappad katt!",
        innehall: "Liten grÃ¥ katt med vit tass fÃ¶rsvunnen vid ICA HÃ´la.",
        avsandare: "Greta K."
      },
      {
        rubrik: "MusikkvÃ¤ll pÃ¥ Folkets Hus",
        innehall: "Fredag 19:00 â€“ Ta med instrument, alla Ã¤r vÃ¤lkomna!",
        avsandare: "Stig & DragspelsgÃ¤nget"
      },
      {
        rubrik: "Cykel sÃ¤ljes",
        innehall: "Crescent 3-vÃ¤xlad, nymÃ¥lad. 500 kr.",
        avsandare: "RÃ¶jgen"
      }
    ];

    function visaMeddelanden() {
      tavla.innerHTML = "";
      meddelanden.forEach(medd => {
        const el = document.createElement("div");
        el.classList.add("meddelande");
        el.style.setProperty("--rotation", (Math.random() * 10 - 5) + "deg");

        el.innerHTML = `
          <h4>${medd.rubrik}</h4>
          <p>${medd.innehall}</p>
          <div class="avsandare">â€“ ${medd.avsandare}</div>
        `;
        tavla.appendChild(el);
      });
    }

    form.addEventListener("submit", e => {
      e.preventDefault();
      const rubrik = document.getElementById("rubrik").value.trim();
      const innehall = document.getElementById("innehall").value.trim();
      const avsandare = document.getElementById("avsandare").value.trim();

      if (!rubrik || !innehall || !avsandare) return;

      meddelanden.unshift({ rubrik, innehall, avsandare });
      visaMeddelanden();
      form.reset();
    });

    visaMeddelanden();
  });
</script>
<!-- === ANSLAGSTAVLA SLUT === -->

     </div>
     

   
  <div id="footer">
    Â© 2014 Radio HÃ´la | 68,7 Mhz
  </div>
    
  <script src="../js/reklam.js"></script>
  <script src="../js/login.js"></script>
</body>
</html>
